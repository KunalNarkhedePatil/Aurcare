{% extends 'navigation.html' %}
{% block body %}
{% load static %}
<script src=/ayurcare/static/js/data_validation.js></script>
<div class="container">
    <h2 style="margin-top:20px" align="center">Registration Form</h2><hr>

<div class="container-fluid" style="width:70%;margin-top:10%">
<form method="post" action="" onsumit="return gfg()" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputEmail4">First Name</label>
      <input type="text" class="form-control" placeholder="Enter First Name" required="" name="fname" id="inputEmail4">
      <span class=text-danger id=errName></span>
    </div>
   
    <div class="form-group col-md-6">
      <label for="inputPassword4">Last Name</label>
      <input type="text" class="form-control" name="lname" placeholder="Enter Last Name" id="inputPassword4">
    </div>
  </div>
    <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputEmail4">User Name</label>
      <input type="text" class="form-control" name="uname" placeholder="Enter User Name" id="inputEmail4">
    </div>
    <div class="form-group col-md-6">
      <label for="inputPassword4">Password</label>
      <input type="password" class="form-control" name="pwd" id="inputPassword4">
    </div>
  </div>
        <div class="form-row">
<div class="form-group col-md-6">
    <label for="exampleInputEmail1">Email</label>
    <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" name="email" placeholder="Enter Email">
  </div>

  <div class="form-group col-md-6">
    <label for="exampleInputPassword1">Contact</label>
    <input type="text" class="form-control" id="exampleInputPassword1" maxlength="10" placeholder="Enter Contact Detail" name="contact">
  </div>
        </div>
        <div class="form-row">
    <div class="form-group col-md-6">
    <label for="exampleInputPassword1">City</label>
    <input type="text" class="form-control" id="exampleInputPassword1" placeholder="Enter City" name="city">
  </div>

    <div class="form-group col-md-6">
        <label for="exampleInputPassword1">Date of Birth</label>
    <input type="date" class="form-control" id="exampleInputPassword1" name="date">
  </div>
        </div>
    <div class="form-row">

    <div class="form-group col-md-6">
    <label for="exampleInputPassword1">Full Address</label>
    <input type="text" class="form-control" id="exampleInputPassword1" placeholder="Enter Address Detail" name="add">
  </div>

<div class="form-group col-md-6">
    <label for="exampleInputPassword1">Image</label>
    <input type="file" class="form-control" id="exampleInputPassword1" name="img" value="choose file">
</div></div>

  <button type="submit" class="btn btn-primary">Submit</button>
</form>
</div>
</div>

<script>
  function gfg() {
      var name =
          document.forms.RegForm.fname.value;
      var lname =
          document.forms.RegForm.lname.value;
      var uname =
          document.forms.RegForm.uname.value;
      var password =
          document.forms.RegForm.inputpassword4.value;
      var email =
          document.forms.RegForm.email.value;
      
      var phone =
          document.forms.RegForm.contact.value;
      var what =
          document.forms.RegForm.city.value;
      
      var address =
          document.forms.RegForm.add.value;

      var regEmail=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/g;  //Javascript reGex for Email Validation.
      var regPhone=/^\d{10}$/;                                        // Javascript reGex for Phone Number validation.
      var regName = /\d+$/g;                                    // Javascript reGex for Name validation

      if (name == "" || regName.test(fname)) {
          window.alert("Please enter your name properly.");
          name.focus();
          return false;
      }

      if (address == "") {
          window.alert("Please enter your address.");
          address.focus();
          return false;
      }
       
      if (email == "" || !regEmail.test(email)) {
          window.alert("Please enter a valid e-mail address.");
          email.focus();
          return false;
      }
        
      if (password == "") {
          alert("Please enter your password");
          password.focus();
          return false;
      }

      if(password.length <6){
          alert("Password should be atleast 6 character long");
          password.focus();
          return false;

      }
      if (phone == "" || !regPhone.test(contact)) {
          alert("Please enter valid phone number.");
          phone.focus();
          return false;
      }

      if (what == "") {
          alert("Please enter your city name.");
          what.focus();
          return false;
      }

      return true;
  }
</script>

{% if error %}
<script>
    alert('Registered Successfully');
    window.location = "{% url 'login' %}";
</script>
{% endif %}

{% endblock %}